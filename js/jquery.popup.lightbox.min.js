(function(t){t.fn.popupLightbox=function(n){var e=t.extend({width:560,height:340,inAnimation:"ZoomIn"},n);return this.each(function(){function n(){return document.createElement("div")}function i(){return document.createElement("button")}function a(){return document.createElement("section")}function o(){return document.createElement("figure")}function d(){return document.createElement("figcaption")}var h,c,l=t(this),m=a(),s=i(),r=i(),p=i(),f=n(),u=o(),g=d(),w=t(l).find("img"),T=w.length,b=0;t(r).addClass("btn-next").appendTo(m),t(p).addClass("btn-prev").appendTo(m),t(s).addClass("btn-close").appendTo(m).html("Ã—"),t(f).addClass("lightbox-status").appendTo(m),t(u).addClass("img-show").appendTo(m),t(m).addClass("lightbox animated faster "+e.inAnimation).appendTo("body");for(var v=0;v<w.length;v++)t(w).eq(v).attr({"data-num":v,id:"#img"+v});t(window).width()>620?t(m).css({width:e.width,height:e.height,position:"fixed",top:"50%",marginTop:-e.height/2,left:"50%",marginLeft:-e.width/2,zIndex:"999",overflow:"hidden"}):t(m).css({width:"100%",height:"100%",top:0,left:0}),t(g).addClass("img-caption animated fadeInUp"),t(w).click(function(){var n=t(this).clone(),e=1*t(this).attr("data-num"),i=t(this).attr("alt");0==t(this).prop("alt")&&(i="This image has no caption"),b=e,e+1==T?(t(r).hide(),t(p).show()):0==e?(t(p).hide(),t(r).show()):(t(r).show(),t(p).show()),t(f).html(e+1+" / "+T),t(u).html(n).parent().fadeIn(),t(g).html(i).appendTo(u)}),t(r).click(function(){var n=T-1;b<n&&(b+=1),b+1==T&&t(r).hide(),t(p).fadeIn(),t(u).find("img").animate({left:"-100%",opacity:0},200,function(){t(u).html(t(w).eq(b).clone()),h=t(u).find("img"),c=t(h).attr("alt"),0==t(h).prop("alt")&&(c="This image has no caption"),t(g).html(c).appendTo(u),t(f).html(b+1+" / "+T)})}),t(p).click(function(){b>0&&(b-=1),t(r).fadeIn(),t(u).find("img").animate({right:"-100%",opacity:0},200,function(){t(u).html(t(w).eq(b).clone()),h=t(u).find("img"),c=t(h).attr("alt"),t(g).html(c).appendTo(u),t(f).html(b+1+" / "+T)}),0==b&&t(p).hide()}),t(".btn-close").click(function(){t(this).parent().fadeOut(),b=0})})}})(jQuery);